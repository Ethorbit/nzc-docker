$WorkDirectory /logs
$PrivDropToUser rsyslog
$PrivDropToGroup rsyslog
$FileOwner rsyslog
$FileGroup rsyslog
$DebugFile /logs/debug.log
$DebugLevel 2

module(load="imtcp" port="${RSYSLOG_PORT}")

#:syslogtag, isequal, "sshd:" /logs/sshd.log

input(type="imtcp" port="${RSYSLOG_PORT}" ruleset="sshd")
#input(type="imtcp" port="${RSYSLOG_PORT}" ruleset="nginx")

ruleset(name="sshd") {
    action(type="omfile" file="/logs/sshd.log")
}

#ruleset(name="nginx") {
#    action(type="omfile" file="/logs/nginx.log")
#}

#module(load="imuxsock") 
#input(type="imuxsock" socket="/socks/sshd" createpath="on" ruleset="sshd")
#input(type="imuxsock" socket="/socks/nginx" createpath="on" ruleset="nginx")

