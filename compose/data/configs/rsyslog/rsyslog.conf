$WorkDirectory /logs
$PrivDropToUser rsyslog
$PrivDropToGroup rsyslog
$FileOwner rsyslog
$FileGroup rsyslog
$umask     0037
$DebugFile /logs/debug.log
#$DebugLevel 2

include(
    file="/configs/tcp.conf"
)

template(name="HostLogDaily" type="list") {
    constant(value="/logs/daily/")
    property(name="programname")
    constant(value=".log")
}

template(name="HostLogWeekly" type="list") {
    constant(value="/logs/weekly/")
    property(name="programname")
    constant(value=".log")
}

template(name="HostLogMonthly" type="list") {
    constant(value="/logs/monthly/")
    property(name="programname")
    constant(value=".log")
}

*.* action(
    type="omfile"
    dynaFile="HostLogDaily"
)

*.* action(
    type="omfile"
    dynaFile="HostLogWeekly"
)

*.* action(
    type="omfile"
    dynaFile="HostLogMonthly"
)

/logs/daily/*.log {
    rotate 7
    daily
    ifempty
    missingok
    nocompress
    dateext
    dateformat .%d-%m-%Y
}

/logs/weekly/*.log {
    rotate 4
    weekly
    ifempty
    missingok
    compress
    dateext
    dateformat .%d-%m-%Y
}

/logs/monthly/*.log {
    rotate 12
    monthly
    ifempty
    missingok
    compress
    dateext
    dateformat .%d-%m-%Y
}
